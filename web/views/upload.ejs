<!DOCTYPE html>
<html lang="zh-TW">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>food●點餐系統</title>
	<!-- Bootstrap css-->
<link href="css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="css/main1.css" />
<!-- Bootstrap js-->
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="js/bootstrap.min.js"></script>
</head>

<body>
	<%- include('./partials/headermerch.ejs') %>

		<div class="container" style="margin-top:50px;padding-bottom: 30px">
			<h2 class="h2">商品管理</h2><br>
			<ul id="myTab1" class="nav nav-tabs">
				<li class="active">
					<a href="#manage" data-toggle="tab">
						<span class="glyphicon glyphicon-wrench" aria-hidden="true" style="font-size: 24px;"></span>
						&nbsp;&nbsp;管理
					</a>
				</li>
				<li>
					<a href="#uploadfc" data-toggle="tab">
						<span class="glyphicon glyphicon-open" aria-hidden="true" style="font-size: 24px;"></span>
						&nbsp;&nbsp;上傳
					</a>
				</li>
			</ul>
			<div id="myTabContent" class="tab-content">
				
						<div class="tab-pane fade in active" id="manage">
							<form id="manageItem" enctype="multipart/form-data">
								<br>
								<br>
								<div class="buttonn-group">
									<div class="buttonn-group">
										<% for (var i = 0; i < 5; i++) { %>
										  <div class="buttonn">
											<%var a;%>
														<%if (i===0){a='壽司'}%>
														<%if (i===1){a='拉麵'} %>
														<%if (i===2){a='刺身'}%>
														<%if (i===3){a='定食'} %>
														<%if (i===4){a='甜點'}%>
														
											<a href="#" onclick="toggleButton(this)"><%=a%></a>
										  </div>
										<% } %>
										<div class="buttonn1" id="addButton">
											<a href="#" onclick="addNewItem()">新增種類+</a>
										  </div>
									  </div>
								  </div>
								<h3>
								<div class="fixtop2 text-right">
									<a href="order.html"><span class="glyphicon glyphicon-th-list" aria-hidden="true"></span></a>&nbsp;
									<a href="order2.html"><span class="glyphicon glyphicon-th-large" aria-hidden="true"></span></a>&nbsp;
								</div></h3>
								<table class="table table-striped table-hover text-center">
									<tr>
										<th class="text-left">項次</th>
										<th class="text-left">商品名稱</th>
										<th class="text-left">商品種類</th>
										<th class="text-left">商品描述</th>
										<th class="text-left">價錢</th>
										<th class="text-left">刪除</th>
									</tr>
									<% for (var i=0 ; i < 10 ; i++) { %>
									<tr>
										<td class="text-left"><%= i+1 %></td>
										<td class="text-left"><p>商品名稱</p></td>
										<td class="text-left"><p>種類</p></td>
										<td class="text-left"><p>描述</p></td>
										<td class="text-left"><p>$$</p></td>
										<td class="text-left"><a href=""><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></a></td>
									</tr>
									<% } %>
								</table>
							</form>
						</div>
						<div class="tab-pane fade" id="uploadfc">
							<form id="uploadItem" enctype="multipart/form-data">
								<table class="table table-striped table-hover text-center">
									<tr>
										<th class="text-left">項次</th>
										<th class="text-left">商品名稱</th>
										<th class="text-left">商品種類</th>
										<th class="text-left">商品描述</th>
										<th class="text-left">價錢</th>
										<th class="text-left">選擇照片</th>
										<th class="text-left">新增項目</th>
									</tr>
									<tr>

										<th class="text-center">1</th>
										<td>
											<input type="name" class="form-control" id="exampleInputPassword1"
												placeholder="商品名稱" name="name1">
										</td>
										<td>
											<select class="form-control" name="type1">
												<option>選擇要新增的種類</option>
												<option>拉麵</option>
												<option>壽司</option>
												<option>甜點</option>
											</select>
										</td>
										<td>
											<input type="description" class="form-control" id="exampleInputName"
												placeholder="商品描述" name="description1">
										</td>
										<td>
											<input type="money" class="form-control" id="exampleInputName"
												placeholder="價錢" name="price1">
										</td>
										<td>
											<input type="file" name="image" accept="image/png, image/jpeg">
										</td>
										<td>
											<a id="add-field"><span class="glyphicon glyphicon-plus"></span></a>
										</td>
									</tr>
								</table>
								<br><br><button class="buttonnext" id="upload" onclick="uploadItem(1)"><span>確認上傳
									</span></button>
							</form>
						</div>
					</div>

				</div>
			</div>

		</div>

</body>

<script>
	var rowCount = 1;
	$(document).on("click", "#add-field", function () {
		rowCount++;
		var newField = `<tr>
			<th class="text-center">${rowCount}</th>
			<td><input type="name" class="form-control" id="exampleInputPassword1" placeholder="商品名稱" name="name${rowCount}"></td>
			<td>
				<select class="form-control" name="type${rowCount}">
				<option>選擇要新增的種類</option>
				<option>拉麵</option>
				<option>壽司</option>
				<option>甜點</option>
				</select>
			</td>
			<td><input type="description" class="form-control" id="exampleInputName" placeholder="商品描述" name="description${rowCount}"></td>
			<td><input type="money" class="form-control" id="exampleInputName" placeholder="價錢" name="price${rowCount}"></td>
			<td><input type="file" name="image" accept="image/png, image/jpeg"></td>
			<td><a id="add-field"><span class="glyphicon glyphicon-plus"></span></a></td>
			</tr>
		`
		$('table').append(newField);
		// 讓後端知道有幾個項目
		$('#upload').attr('onclick', `uploadItem(${rowCount})`);
	});
	function toggleButton(button) {
		button.parentNode.classList.toggle("selected");
	  }
	  function addNewItem() {
		var newItem = prompt("輸入想新增的種類:");
		if (newItem) {
		  var buttonGroup = document.querySelector(".button-group");
		  var addButton = document.getElementById("addButton");
  
		  var newButton = document.createElement("div");
		  newButton.className = "button";
		  newButton.innerHTML = "<a href='#' onclick='toggleButton(this)'>" + newItem + "</a>";
  
		  buttonGroup.insertBefore(newButton, addButton);
		}
	  }
</script>
<script src="/js/upload.js"></script>

</html>